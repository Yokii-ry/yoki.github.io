(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1473:function(e,t,n){"use strict";n.d(t,"a",(function(){return _e}));var r=n(0),a=n.n(r),o=n(1),c=n(38),i=n(78),l=n.n(i),s=n(45),u=n.n(s),m=n(7),f=n(1536),p=n(1506),d=n(2),h=n(85),y=n.n(h),v=n(94),b=n(6);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function O(e){var t=j();return function n(){var r=k(e),a;if(t){var o=k(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return C(this,a)}}function C(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P,I=d.a.getOSKeyMap().ctrlTxt,T=new l.a({html:!0,highlight:function e(t,n){if(n&&u.a.getLanguage(n))try{return u.a.highlight(n,t).value}catch(e){return""}return""}}).use(y.a,{target:"_blank"}),x=o.Tag.Colorable,B=window.FORCE.pathResource,D=function(e){N(n,e);var t=O(n);function n(e){var r;return E(this,n),M(R(r=t.call(this,e)),"onCancelEditing",(function(){r.setState({isEditing:!1})})),M(R(r),"renderExtraInfo",(function(){var e=r.props,t=e.comment,n=e.notMatched,o=e.changesReducer,c=e.mrCommentConfig,i=o.allComments,l=void 0===i?[]:i,s="false"===B.isArchive&&m.b.allowComments(l.length,c),u=t.created_at,f;if(t.is_draft)return a.a.createElement("span",{className:"comment-draft"},a.a.createElement(x,{color:"orange"},"\u8349\u7a3f"));var p=s&&!n&&r.state.isHover;return a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"comment-time"}," \xb7 ",m.b.getBeautyTime(u)),p&&a.a.createElement("a",{onClick:function e(n){n.stopPropagation(),r.props.replyFn&&r.props.replyFn(t)},className:"reply-btn"},"\u56de\u590d"))})),M(R(r),"onSubmit",(function(e){var t,n=r.props.comment.id;r.props.updateDraft({noteId:n,note:e}),r.onCancelEditing()})),r.state={isEditing:!1,isHover:!1},r.mediaRef=a.a.createRef(),r}return _(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.changesReducer,i=n.mrCommentConfig,l=n.comment,s=n.useInLog,u=n.codeReviewDetail,f=r.allComments,d=void 0===f?[]:f,h="false"===B.isArchive&&m.b.allowComments(d.length,i),y=l.note,g=l.id,E=l.is_draft;return l?a.a.createElement("div",{className:"comment-new-media",onMouseEnter:function e(){t.setState({isHover:!0})},onMouseLeave:function e(){t.setState({isHover:!1})},ref:this.mediaRef},a.a.createElement("div",{className:"comment-new-media-title"},a.a.createElement("div",{className:"comment-new-media-title-left"},a.a.createElement(o.Balloon.Tooltip,{align:"t",trigger:a.a.createElement("div",{className:"user-name one-line-ellipsis"},l.author&&l.author.name||""),text:l.author&&l.author.name||""}),a.a.createElement("div",{className:"time-reply"},this.renderExtraInfo())),h&&!s&&E?a.a.createElement("div",{className:"comment-new-media-title-right"},a.a.createElement(o.Balloon.Tooltip,{align:"t",trigger:a.a.createElement(o.Button.Icon,{type:"secondary",name:"paper-pen",color:"gray",className:"comment-title-btn",onClick:function e(){t.setState({isEditing:!0}),Object(b.b)({action:"re_edit_draft",page:":Repo-MR-changes",type:"",mr_id:u.id})}}),text:"\u7f16\u8f91"}),a.a.createElement(o.Balloon.Tooltip,{align:"t",trigger:a.a.createElement(o.Button.Icon,{type:"secondary",color:"gray",name:"trashbin",className:"comment-title-btn",onClick:function e(){t.props.deleteDraft(g),Object(b.b)({action:"delete_draft",page:":Repo-MR-changes",type:"",mr_id:u.id})}}),text:"\u5220\u9664"})):null,!h||s||E||l.parent_note_id?null:a.a.createElement("div",{className:"comment-new-media-title-right"},a.a.createElement(o.Balloon.Tooltip,{trigger:a.a.createElement("div",{className:"comment-close-btn"},a.a.createElement(o.Checkbox,{onClick:function e(){t.props.toggleComment({noteId:l.id,closed:!l.closed})},checked:!!l.closed},l.closed?"\u5df2\u89e3\u51b3":"\u5f85\u89e3\u51b3")),onClick:this.props,align:"t"},l.closed?"\u6807\u8bb0\u4e3a\u5f85\u89e3\u51b3":"\u6807\u8bb0\u4e3a\u5df2\u89e3\u51b3"))),a.a.createElement("div",{className:"comment-new-media-body"},s&&a.a.createElement(p.a,{comment:l}),this.state.isEditing?a.a.createElement(c.a,{initValue:y||"",size:"small",onSubmit:this.onSubmit,onCancel:this.onCancelEditing,placeholder:"\u8bf7\u8f93\u5165\u8bc4\u8bba",help:"".concat(I," + Enter \u66f4\u65b0\u8349\u7a3f"),submitBtnText:"\u66f4\u65b0\u8349\u7a3f",ref:function e(n){t.mdRef=n}}):a.a.createElement("div",{className:"comment-content markdown-body",dangerouslySetInnerHTML:{__html:Object(v.filterXSS)(T.render(y||""),{onIgnoreTagAttr:function e(t,n,r){return"".concat(n,"=").concat(r)}})}}))):null}}]),n}(a.a.Component),L=n(166),F=n.n(L),H=n(29);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}function J(e,t){return(J=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Q(e){var t=Y();return function n(){var r=Z(e),a;if(t){var o=Z(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return U(this,a)}}function U(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=new l.a({html:!0,highlight:function e(t,n){if(n&&u.a.getLanguage(n))try{return u.a.highlight(n,t).value}catch(e){return""}return""}}).use(y.a,{target:"_blank"}),$=window.FORCE.pathResource,ee=o.Tag.Colorable,te={Major:"blue",Critical:"orange",Blocker:"red"},ne=function(e){V(n,e);var t=Q(n);function n(e){var r;return A(this,n),q(W(r=t.call(this,e)),"renderApply",(function(){var e=r.props.comment,t="false"===$.isArchive,n="issue"===e._comment_type;return!t||!r.state.isHover||e.outdated&&e.line||n?a.a.createElement("span",null,m.b.getBeautyTime(e.created_at)):a.a.createElement("a",{onClick:function t(n){n.stopPropagation(),r.props.replyFn&&r.props.replyFn(e)},className:"reply-btn"},"\u56de\u590d")})),q(W(r),"renderMain",(function(){var e=r.props.comment,t="issue"===e._comment_type,n=e.issue,o=a.a.createElement("div",{className:"comment-new-media-whole-comment"},a.a.createElement("div",{className:"comment-new-media-whole-comment-left comment-content"},t?a.a.createElement("div",{className:"issue-detail"},a.a.createElement("span",{className:"issue-detail-tag"},a.a.createElement(ee,{color:te[n.level]},n.level)),a.a.createElement("span",{className:"issue-detail-title",title:n.title},n.title)):a.a.createElement("div",{className:"comment-content markdown-body",dangerouslySetInnerHTML:{__html:Object(v.filterXSS)(G.render(e.note||""),{onIgnoreTagAttr:function e(t,n,r){return"".concat(n,"=").concat(r)}})}})));return a.a.createElement("div",{className:"panel-comment-item"},a.a.createElement("div",{className:"panel-comment-item-left"},a.a.createElement("div",{className:"author-avatar"},a.a.createElement(F.a,{text:e.author&&e.author.name||"",image:e.author&&e.author.avatar_url||"",radius:"50%",size:"xs"})),a.a.createElement("div",{className:"panel-line"})),a.a.createElement("div",{className:"panel-comment-item-right"},a.a.createElement("div",{className:"user-info"},a.a.createElement("div",{className:"user-info-left"},a.a.createElement("div",{className:"name"},a.a.createElement(H.default,{trigger:a.a.createElement("span",null,e.author&&e.author.name||""),align:"t"},e.author&&e.author.name||"")),t?a.a.createElement("div",{className:"bot-tag"},a.a.createElement(ee,{color:"gray",style:{margin:"0 4px"}},"bot")):null,a.a.createElement("div",{className:"time"},r.renderApply()))),o))})),r.state={isHover:!1},r}return K(n,[{key:"render",value:function e(){var t=this,n;return this.props.comment?a.a.createElement("div",{className:"comment-new-media",onMouseEnter:function e(){t.setState({isHover:!0})},onMouseLeave:function e(){t.setState({isHover:!1})}},this.renderMain()):null}}]),n}(a.a.Component),re=n(1653);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function me(e){var t=de();return function n(){var r=he(e),a;if(t){var o=he(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return fe(this,a)}}function fe(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?pe(e):t}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve,be=d.a.getOSKeyMap().ctrlTxt,ge=window.FORCE,Ee=ge.pathResource,we=ge.user,_e=function(e){se(n,e);var t=me(n);function n(e){var r;return ce(this,n),ye(pe(r=t.call(this,e)),"onSubmit",(function(e,t){var n=r.props,a=n.conversation,o=n.line,c=n.onCancel,i=n.side,l=n.from_commit,s=n.to_commit,u=n.diff,m=n.issueId,f=n.codeReviewDetail,p=n.useInLog;t?Object(b.b)({action:"save_draft",page:"Repo-MR-changes",mr_id:f.id}):Object(b.b)({action:p?"view_comments_panel_post":"post_comment",page:"Repo-MR-changes",mr_id:f.id});var d="";d=u?u.deleted_file?u.old_path:u.new_path:a[0].path||a[0].new_path,r.props.postInlineComments({note:e,parent_note_id:a[0]?a[0].id:"",line:o||a[0].line,commit_id:s||l||"",comparison_commit_id:l||s||"",is_draft:t,path:d,side:"left"===i?"left":"right",issue_id:m||""}),c?c():r.hideEditor()})),ye(pe(r),"showEditor",(function(e){r.setState({isEditorShow:!0,size:"small",replyComment:e})})),ye(pe(r),"hideEditor",(function(){var e=r.props,t=e.useInLog,n=e.codeReviewDetail;r.setState({isEditorShow:!1}),t&&Object(b.b)({action:"view_comments_panel_cancel",page:"Repo-MR-changes",mr_id:n.id})})),ye(pe(r),"renderCommentInPanel",(function(e,t){var n=r.props.notMatched,o=e[0];return a.a.createElement("div",{className:"panel-comment-list",style:{display:o.path?"block":"flex",flexDirection:"row-reverse"}},r.getTitle(e[0]),e.map((function(e,o){return a.a.createElement(ne,oe({comment:e},r.props,{replyFn:r.showEditor,notMatched:n,hasDraft:t,curIndex:o}))})))})),ye(pe(r),"getTitle",(function(e){if(!e)return null;var t=e.outdated,n=e.path?{}:{top:"-4px",background:"transparent"};return a.a.createElement("div",{style:n,className:"comment-new-media-line ".concat(t?"outdated":"")},e.path?a.a.createElement("div",{className:"comment-new-media-line-left"},a.a.createElement(p.a,{comment:e,updateData:r.props.updateData,maxWidth:t?30:80})):null,a.a.createElement("div",{className:"comment-new-media-line-right",style:e.path?{}:{width:"auto"}},a.a.createElement(o.Checkbox,{checked:!!e.closed,onChange:function t(){r.props.toggleComment({noteId:e.id,closed:!e.closed})}},e.closed?"\u5df2\u89e3\u51b3":"\u5f85\u89e3\u51b3"),e.path&&t&&a.a.createElement("div",{className:"outdated-text"},"\u5df2\u8fc7\u671f")))})),ye(pe(r),"renderTimeline",(function(e,t){var n=r.props,o=n.notMatched,c=n.useInLog;return e.length?c?r.renderCommentInPanel(e,t):a.a.createElement("div",{className:"timeline-wrapper ".concat(c?"use-in-log":"")},e.map((function(e,n){return a.a.createElement("div",{className:"timeline-comment-item"},a.a.createElement("div",{className:"timeline-comment-item-left"},a.a.createElement("div",{className:"timeline-comment-item-left-line"}),a.a.createElement(F.a,{text:e.author&&e.author.name||"",image:e.author&&e.author.avatar_url||"",radius:"50%",size:"small"})),a.a.createElement("div",{className:"timeline-comment-item-right"},c?a.a.createElement(ne,oe({comment:e},r.props,{replyFn:r.showEditor,notMatched:o,hasDraft:t,curIndex:n})):a.a.createElement(D,oe({comment:e},r.props,{replyFn:r.showEditor,notMatched:o,hasDraft:t}))))}))):null})),ye(pe(r),"renderUserAvatar",(function(){return a.a.createElement("div",{className:"user"},a.a.createElement(F.a,{text:we.nickname||we.realName||"",image:we.avatar||"",radius:"50%",size:"small"}))})),ye(pe(r),"renderMd",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.props,n=t.onCancel,o=t.useInLog,i=r.state.replyComment;return a.a.createElement(c.a,{onSubmit:e?null:r.onSubmit,onSubmitImmediate:r.onSubmit,onCancel:n||r.hideEditor,placeholder:"\u8bf7\u8f93\u5165\u8bc4\u8bba",help:e?"".concat(be," + Shift + Enter \u76f4\u63a5\u53d1\u5e03"):"".concat(be," + Enter \u5b58\u8349\u7a3f\uff0c").concat(be," + Shift + Enter \u76f4\u63a5\u53d1\u5e03"),size:o||"small"===r.state.size?"small":"medium",submitBtnText:e?"":"\u4fdd\u5b58\u4e3a\u8349\u7a3f",initValue:i&&i.author?"@".concat(i.author.name," "):"",ref:function e(t){r.mdRef=t}})})),ye(pe(r),"renderMdInPanel",(function(){var e=r.props,t=e.onCancel,n=e.useInLog,o=r.state.replyComment;return a.a.createElement(c.a,{onSubmitImmediate:r.onSubmit,onCancel:t||r.hideEditor,placeholder:"\u8bf7\u8f93\u5165\u8bc4\u8bba",help:"".concat(be," + Enter \u5b58\u8349\u7a3f\uff0c").concat(be," + Shift + Enter \u76f4\u63a5\u53d1\u5e03"),size:n||"small"===r.state.size?"small":"medium",initValue:o&&o.author?"@".concat(o.author.name," "):"",ref:function e(t){r.mdRef=t}})})),ye(pe(r),"renderMdOrInput",(function(){var e=r.props,t=e.conversation,n=e.useInLog,c=e.noDraft,i=e.isYundouComment;return n?r.state.isEditorShow||!t.length?a.a.createElement("div",{className:"comment-input-md"},a.a.createElement("div",{className:"input-area"},r.renderMd(!0))):null:a.a.createElement("div",{className:"comment-input-md"},r.renderUserAvatar(),a.a.createElement("div",{className:"input-area"},r.state.isEditorShow||!i&&!t.length?r.renderMd(c):a.a.createElement("div",{className:"placeholder-text",style:{display:n?"none":"block"}},a.a.createElement(o.Input,{placeholder:"\u8bf7\u8f93\u5165\u8bc4\u8bba",onClick:function e(){r.showEditor({id:t.id})},style:{width:"100%"}}))))})),r.state={isEditorShow:!1,size:"medium",replyComment:null},r}return le(n,[{key:"render",value:function e(){var t=this.props,n=t.conversation,r=t.readOnly,o=t.useInLog,c=t.notMatched,i=t.changesReducer,l=t.mrCommentConfig,s=i.allComments,u=void 0===s?[]:s,f="false"===Ee.isArchive&&m.b.allowComments(u.length,l),p=n.some((function(e){return e.is_draft}));return a.a.createElement("div",{className:"conversation ".concat(o?"use-in-log":"")},n&&n[0]&&!r?a.a.createElement("div",{className:"conversation-anchor",id:"anchor_conversation_".concat(n[0].id)}):null,a.a.createElement("div",null,this.renderTimeline(n,p)),!f||r||c?null:this.renderMdOrInput())}}]),n}(a.a.Component)},1536:function(e,t,n){},1537:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(0),a=n.n(r),o=n(3),c=n.n(o),i=n(1),l=n.n(i),s=n(8),u=n(1654),m=n.n(u),f=n(6),p=n(78),d=n.n(p),h=n(85),y=n.n(h),v=n(45),b=n.n(v),g=n(7);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){var t=k();return function n(){var r=M(e),a;if(t){var o=M(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return R(this,a)}}function R(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=new d.a({html:!0}).use(y.a,{target:"_blank"}),T=i.Tag.Colorable,x=function(e){S(n,e);var t=C(n);function n(){var e;w(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return P(j(e=t.call.apply(t,[this].concat(a))),"state",{isShowDetail:!1}),P(j(e),"level",{Major:"Major",Critical:"Critical",Blocker:"Blocker"}),P(j(e),"color",{Major:"blue",Critical:"orange",Blocker:"red"}),P(j(e),"classLevel",{Major:"major",Critical:"critical",Blocker:"blocker"}),e}return N(n,[{key:"render",value:function e(){var t=this,n=this.props,r=n.rule,o=n.commentEle,c=this.state.isShowDetail;return a.a.createElement("div",{className:"rule-card-wrapper"},a.a.createElement("div",{className:"rule-card"},a.a.createElement("div",{className:"rule-card-header ".concat(this.state.isShowDetail?"has-border":"no-border")},a.a.createElement("div",{className:"rule-card-header-left"},a.a.createElement("div",{className:"rule-card-header-left-top"},a.a.createElement("img",{className:"rule-card-header-yundou",alt:"\u4e91\u8c46\u673a\u5668\u4eba",src:"https://img.alicdn.com/tfs/TB1WYSpIQL0gK0jSZFtXXXQCXXa-400-401.png"}),"\u4e91\u8c46",a.a.createElement(T,{color:"gray"},"bot"),a.a.createElement("span",{className:"rule-card-header-time"},g.b.getBeautyTime(r.intro_time))),a.a.createElement("div",{className:"rule-card-header-left-bottom"},a.a.createElement("span",{className:"rule-card-header-left-tag"},a.a.createElement(T,{color:this.color[r.level]},this.level[r.level])),a.a.createElement("span",{className:"rule-card-header-name",title:r.title},r.title),a.a.createElement("span",null),r.description?a.a.createElement("span",{className:"rule-card-detail-tag",onClick:function e(){Object(f.b)({action:"show_issue_detail",page:"Repo-MR-changes"}),t.setState({isShowDetail:!c})}},a.a.createElement(s.a,{type:"more",size:"small"})):null))),a.a.createElement("div",{className:"rule-card-body",style:{display:this.state.isShowDetail?"block":"none"}},a.a.createElement("div",{className:"rule-card-body-title"},"\u95ee\u9898\u63cf\u8ff0"),a.a.createElement("div",{className:"rule-card-body-content",dangerouslySetInnerHTML:{__html:I.render(r.description||"")}}),r.suggestion?a.a.createElement("div",null,a.a.createElement("div",{className:"rule-card-body-title"},"\u4fee\u6539\u5efa\u8bae"),a.a.createElement("div",{className:"rule-card-body-content"},a.a.createElement("code",null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:b.a.highlight(r.language||"java",r.suggestion||"",!0).value}})))):null),o&&a.a.createElement("div",{className:"rule-comment-container ".concat(this.state.isShowDetail?"border-top":"")},a.a.cloneElement(o,{ref:function e(n){t.commentRef=n}}))))}}]),n}(a.a.Component);P(x,"propTypes",{rule:c.a.object}),P(x,"defaultProps",{rule:{}})},1653:function(e,t,n){},1654:function(e,t,n){}}]);