(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1556:function(t,e,i){},1687:function(t,e,i){"use strict";var o=.4,n=10,s=!0,r=!0,h=!0,l=!1,a=27,c=37,d=39,u="driver-page-overlay",p="driver-highlighted-element-stage",f="driver-popover-item",v="driver-highlighted-element",g="driver-position-relative",y="driver-fix-stacking",m="driver-stage-no-animation",b="driver-popover-tip",w="driver-popover-img",k="driver-popover-title",x="driver-popover-description",N="driver-popover-footer",S="driver-close-btn",E="driver-next-btn",O="driver-prev-btn",C="driver-disabled",L="driver-close-only-btn",P="driver-navigation-btns",T=300,B=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return'\n  <div id="'.concat(f,'" class="').concat(e,'">\n    <div class="').concat(b,'"></div>\n    <img class="').concat(w,'"></img>\n    <div class="').concat(k,'">Popover Title</div>\n    <div class="').concat(x,'">Popover Description</div>\n    <div class="driver-clearfix ').concat(N,'">\n      <button class="').concat(S,'">Close</button>\n      <span class="driver-btn-group ').concat(P,'">\n        <button class="').concat("driver-prev-btn",'">&larr; Previous</button>\n        <button class="').concat("driver-next-btn",'">Next &rarr;</button>\n      </span>\n    </div>\n  </div>')},H='<div id="'.concat(u,'"></div>'),R='<div id="'.concat(p,'"></div>');function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var j=function t(e){var i=document.createElement("div");return i.innerHTML=e.trim(),i.firstChild},z=function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(o){for(var n=["","-webkit-","-ms-","moz-","-o-"],s=0;s<n.length;s++){var r=n[s]+i,h=t(e,r);if(h)return h}return""}var l="";return e.currentStyle?l=e.currentStyle[i]:document.defaultView&&document.defaultView.getComputedStyle&&(l=document.defaultView.getComputedStyle(e,null).getPropertyValue(i)),l&&l.toLowerCase?l.toLowerCase():l},I=function t(e){return e&&"object"===M(e)&&"nodeType"in e};function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function q(t,e,i){return e&&V(t.prototype,e),i&&V(t,i),t}var F=function(){function t(e,i,o){_(this,t),this.options=e,this.highlightedElement=null,this.lastHighlightedElement=null,this.hideTimer=null,this.window=i,this.document=o,this.removeNode=this.removeNode.bind(this)}return q(t,[{key:"attachNode",value:function t(){var e=this.document.getElementById(u);e||(e=j(H),document.body.appendChild(e)),this.node=e,this.node.style.opacity="0",this.options.animate||this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"highlight",value:function t(e){var i;e&&e.node?e.isSame(this.highlightedElement)||(this.window.clearTimeout(this.hideTimer),e.onHighlightStarted(),this.highlightedElement&&!this.highlightedElement.isSame(this.lastHighlightedElement)&&this.highlightedElement.onDeselected(),e.getCalculatedPosition().canHighlight()&&(this.lastHighlightedElement=this.highlightedElement,this.highlightedElement=e,this.show(),this.highlightedElement.onHighlighted())):console.warn("Invalid element to highlight. Must be an instance of `Element`")}},{key:"show",value:function t(){var e=this;this.node&&this.node.parentElement||(this.attachNode(),window.setTimeout((function(){e.node.style.opacity="".concat(e.options.opacity),e.node.style.position="fixed",e.node.style.left="0",e.node.style.top="0",e.node.style.bottom="0",e.node.style.right="0"})))}},{key:"getHighlightedElement",value:function t(){return this.highlightedElement}},{key:"getLastHighlightedElement",value:function t(){return this.lastHighlightedElement}},{key:"clear",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.options.onReset&&this.options.onReset(this.highlightedElement),this.highlightedElement){var i=!0;this.highlightedElement.onDeselected(i)}this.highlightedElement=null,this.lastHighlightedElement=null,this.node&&(this.window.clearTimeout(this.hideTimer),this.options.animate&&!e?(this.node.style.opacity="0",this.hideTimer=this.window.setTimeout(this.removeNode,300)):this.removeNode())}},{key:"removeNode",value:function t(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"refresh",value:function t(){this.highlightedElement&&(this.highlightedElement.showPopover(),this.highlightedElement.showStage())}}]),t}();function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function W(t,e,i){return e&&A(t.prototype,e),i&&A(t,i),t}var K=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.left,o=void 0===i?0:i,n=e.top,s=void 0===n?0:n,r=e.right,h=void 0===r?0:r,l=e.bottom,a=void 0===l?0:l;D(this,t),this.left=o,this.right=h,this.top=s,this.bottom=a}return W(t,[{key:"canHighlight",value:function t(){return this.left<this.right&&this.top<this.bottom}}]),t}();function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function X(t,e,i){return e&&Y(t.prototype,e),i&&Y(t,i),t}var J=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.node,o=e.options,n=e.popover,s=e.stage,r=e.overlay,h=e.window,l=e.document;U(this,t),this.node=i,this.document=l,this.window=h,this.options=o,this.overlay=r,this.popover=n,this.stage=s,this.animationTimeout=null}return X(t,[{key:"isInView",value:function t(){for(var e=this.node.offsetTop,i=this.node.offsetLeft,o=this.node.offsetWidth,n=this.node.offsetHeight,s=this.node;s.offsetParent;)e+=(s=s.offsetParent).offsetTop,i+=s.offsetLeft;return e>=this.window.pageYOffset&&i>=this.window.pageXOffset&&e+n<=this.window.pageYOffset+this.window.innerHeight&&i+o<=this.window.pageXOffset+this.window.innerWidth}},{key:"scrollManually",value:function t(){var e,i,o=this.node.getBoundingClientRect().top+this.window.pageYOffset-this.window.innerHeight/2;this.window.scrollTo(0,o)}},{key:"bringInView",value:function t(){if(this.node&&!this.isInView())if(this.node.scrollIntoView)try{this.node.scrollIntoView(this.options.scrollIntoViewOptions||{behavior:"instant",block:"center"})}catch(t){this.scrollManually()}else this.scrollManually()}},{key:"getCalculatedPosition",value:function t(){var e=this.document.body,i=this.document.documentElement,o=this.window,n=this.window.pageYOffset||i.scrollTop||e.scrollTop,s=o.pageXOffset||i.scrollLeft||e.scrollLeft,r=this.node.getBoundingClientRect();return new K({top:r.top+n,left:r.left+s,right:r.left+s+r.width,bottom:r.top+n+r.height})}},{key:"getPopover",value:function t(){return this.popover}},{key:"onDeselected",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hidePopover(),e&&this.hideStage(),this.removeHighlightClasses(),this.window.clearTimeout(this.animationTimeout),this.options.onDeselected&&this.options.onDeselected(this)}},{key:"isSame",value:function t(e){return!(!e||!e.node)&&e.node===this.node}},{key:"onHighlightStarted",value:function t(){this.options.onHighlightStarted&&this.options.onHighlightStarted(this)}},{key:"onHighlighted",value:function t(){var e=this;this.isInView()||this.bringInView(),this.showPopover(),this.showStage(),this.addHighlightClasses(),this.options.onHighlighted&&this.options.onHighlighted(this)}},{key:"removeHighlightClasses",value:function t(){this.node.classList.remove("driver-highlighted-element"),this.node.classList.remove(g);for(var e=this.document.querySelectorAll(".".concat("driver-fix-stacking")),i=0;i<e.length;i++)e[i].classList.remove("driver-fix-stacking")}},{key:"addHighlightClasses",value:function t(){this.node.classList.add("driver-highlighted-element"),this.canMakeRelative()&&this.node.classList.add(g),this.fixStackingContext()}},{key:"fixStackingContext",value:function t(){for(var e=this.node.parentNode;e&&e.tagName&&"body"!==e.tagName.toLowerCase();){var i=z(e,"z-index"),o=parseFloat(z(e,"opacity")),n=z(e,"transform",!0),s=z(e,"transform-style",!0),r=z(e,"transform-box",!0),h=z(e,"filter",!0),l=z(e,"perspective",!0);(/[0-9]+/.test(i)||o<1||n&&"none"!==n||s&&"flat"!==s||r&&"border-box"!==r||h&&"none"!==h||l&&"none"!==l)&&e.classList.add("driver-fix-stacking"),e=e.parentNode}}},{key:"canMakeRelative",value:function t(){var e=this.getStyleProperty("position"),i;return-1===["absolute","fixed","relative"].indexOf(e)}},{key:"getStyleProperty",value:function t(e){return z(this.node,e)}},{key:"showStage",value:function t(){this.stage.show(this.getCalculatedPosition())}},{key:"getNode",value:function t(){return this.node}},{key:"hideStage",value:function t(){this.stage.hide()}},{key:"hidePopover",value:function t(){this.popover&&this.popover.hide()}},{key:"showPopover",value:function t(){var e=this;if(this.popover){var i=this.getCalculatedPosition(),o=300;this.options.animate&&this.overlay.lastHighlightedElement||(o=0),this.animationTimeout=this.window.setTimeout((function(){e.popover.show(i)}),o)}}},{key:"getFullPageSize",value:function t(){var e=this.document.body,i=this.document.documentElement;return{height:Math.max(e.scrollHeight,e.offsetHeight,i.scrollHeight,i.offsetHeight),width:Math.max(e.scrollWidth,e.offsetWidth,i.scrollWidth,i.offsetWidth)}}},{key:"getSize",value:function t(){return{height:Math.max(this.node.scrollHeight,this.node.offsetHeight),width:Math.max(this.node.scrollWidth,this.node.offsetWidth)}}}]),t}();function G(t){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function tt(t,e,i){return e&&$(t.prototype,e),i&&$(t,i),t}function et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}function it(t,e){return(it=Object.setPrototypeOf||function t(e,i){return e.__proto__=i,e})(t,e)}function ot(t){var e=rt();return function i(){var o=ht(t),n;if(e){var s=ht(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return nt(this,n)}}function nt(t,e){return!e||"object"!==G(e)&&"function"!=typeof e?st(t):e}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var lt=function(t){et(i,t);var e=ot(i);function i(t,o,n){var s;return Z(this,i),(s=e.call(this)).options=Q({isFirst:!0,isLast:!0,totalCount:1,currentIndex:0,offset:0,showButtons:!0,closeBtnText:"Close",doneBtnText:"Done",startBtnText:"Next &rarr;",nextBtnText:"Next &rarr;",prevBtnText:"&larr; Previous"},t),s.window=o,s.document=n,s}return tt(i,[{key:"attachNode",value:function t(){var e=this.document.getElementById(f);e&&e.parentElement.removeChild(e),e=j(B(this.options.className)),document.body.appendChild(e),this.node=e,this.tipNode=e.querySelector(".".concat(b)),this.imgNode=e.querySelector(".".concat(w)),this.titleNode=e.querySelector(".".concat(k)),this.descriptionNode=e.querySelector(".".concat(x)),this.footerNode=e.querySelector(".".concat(N)),this.nextBtnNode=e.querySelector(".".concat("driver-next-btn")),this.prevBtnNode=e.querySelector(".".concat("driver-prev-btn")),this.closeBtnNode=e.querySelector(".".concat(S))}},{key:"getImgNode",value:function t(){return this.imgNode}},{key:"getTitleNode",value:function t(){return this.titleNode}},{key:"getDescriptionNode",value:function t(){return this.descriptionNode}},{key:"hide",value:function t(){this.node&&(this.node.style.display="none")}},{key:"setInitialState",value:function t(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right="",this.node.querySelector(".".concat(b)).className=b}},{key:"show",value:function t(e){switch(this.attachNode(),this.setInitialState(),this.options.img?this.imgNode.src=this.options.img:this.imgNode.parentNode.removeChild(this.imgNode),this.titleNode.innerHTML=this.options.title,this.descriptionNode.innerHTML=this.options.description||"",this.renderFooter(),this.options.position){case"left":case"left-top":this.positionOnLeft(e);break;case"left-center":this.positionOnLeftCenter(e);break;case"left-bottom":this.positionOnLeftBottom(e);break;case"right":case"right-top":this.positionOnRight(e);break;case"right-center":this.positionOnRightCenter(e);break;case"right-bottom":this.positionOnRightBottom(e);break;case"top":case"top-left":this.positionOnTop(e);break;case"top-center":this.positionOnTopCenter(e);break;case"top-right":this.positionOnTopRight(e);break;case"bottom":case"bottom-left":this.positionOnBottom(e);break;case"bottom-center":this.positionOnBottomCenter(e);break;case"bottom-right":this.positionOnBottomRight(e);break;case"mid-center":this.positionOnMidCenter(e);break;case"auto":default:this.autoPosition(e)}this.bringInView()}},{key:"renderFooter",value:function t(){this.nextBtnNode.innerHTML=this.options.nextBtnText,this.prevBtnNode.innerHTML=this.options.prevBtnText,this.closeBtnNode.innerHTML=this.options.closeBtnText;var e=this.options.totalCount&&1!==this.options.totalCount;this.options.showButtons?(e?(this.nextBtnNode.style.display="inline-block",this.prevBtnNode.style.display="inline-block",this.closeBtnNode.classList.remove(L)):(this.nextBtnNode.style.display="none",this.prevBtnNode.style.display="none",this.closeBtnNode.classList.add(L)),this.footerNode.style.display="block",this.options.isFirst?(this.prevBtnNode.classList.add("driver-disabled"),this.nextBtnNode.innerHTML=this.options.startBtnText):this.prevBtnNode.classList.remove("driver-disabled"),this.options.isLast?this.nextBtnNode.innerHTML=this.options.doneBtnText:this.nextBtnNode.innerHTML=this.options.nextBtnText):this.footerNode.style.display="none"}},{key:"positionOnLeft",value:function t(e){var i=this.getSize().width,o=this.options.padding+10;this.node.style.left="".concat(e.left-i-o,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right")}},{key:"positionOnLeftBottom",value:function t(e){var i=this.getSize(),o=i.width,n=this.options.padding+10;this.node.style.left="".concat(e.left-o-n,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-i.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("right","position-bottom")}},{key:"positionOnLeftCenter",value:function t(e){var i=this.getSize(),o=i.width,n,s=i.height/2,r=this.options.padding+10,h=(e.bottom-e.top)/2,l=e.top-s+h+this.options.offset;this.node.style.left="".concat(e.left-o-r,"px"),this.node.style.top="".concat(l,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("right","position-center")}},{key:"positionOnRight",value:function t(e){var i=this.options.padding+10;this.node.style.left="".concat(e.right+i,"px"),this.node.style.top="".concat(e.top+this.options.offset-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left")}},{key:"positionOnRightCenter",value:function t(e){var i=this.getSize(),o=this.options.padding+10,n,s=i.height/2,r=(e.bottom-e.top)/2,h=e.top-s+r+this.options.offset;this.node.style.left="".concat(e.right+o,"px"),this.node.style.top="".concat(h,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("left","position-center")}},{key:"positionOnRightBottom",value:function t(e){var i=this.options.padding+10,o=this.getSize();this.node.style.left="".concat(e.right+i,"px"),this.node.style.top="".concat(e.bottom+this.options.padding+this.options.offset-o.height,"px"),this.node.style.bottom="",this.node.style.right="",this.tipNode.classList.add("left","position-bottom")}},{key:"positionOnTop",value:function t(e){var i=this.getSize().height,o=this.options.padding+10;this.node.style.top="".concat(e.top-i-o,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom")}},{key:"positionOnTopCenter",value:function t(e){var i=this.getSize(),o=i.height,n=i.width/2,s=this.options.padding+10,r=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.top-o-s,"px"),this.node.style.left="".concat(r-n-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-center")}},{key:"positionOnTopRight",value:function t(e){var i=this.getSize(),o=i.height,n=this.options.padding+10;this.node.style.top="".concat(e.top-o-n,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-i.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("bottom","position-right")}},{key:"positionOnBottom",value:function t(e){var i=this.options.padding+10;this.node.style.top="".concat(e.bottom+i,"px"),this.node.style.left="".concat(e.left-this.options.padding+this.options.offset,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top")}},{key:"positionOnBottomCenter",value:function t(e){var i=this.getSize().width/2,o=this.options.padding+10,n=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(e.bottom+o,"px"),this.node.style.left="".concat(n-i-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-center")}},{key:"positionOnBottomRight",value:function t(e){var i=this.getSize(),o=this.options.padding+10;this.node.style.top="".concat(e.bottom+o,"px"),this.node.style.left="".concat(e.right+this.options.padding+this.options.offset-i.width,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("top","position-right")}},{key:"positionOnMidCenter",value:function t(e){var i=this.getSize(),o=i.height,n=i.width/2,s=o/2,r=(e.bottom-e.top)/2,h=e.top-s+r+this.options.offset,l=this.options.offset+e.left+(e.right-e.left)/2;this.node.style.top="".concat(h,"px"),this.node.style.left="".concat(l-n-this.options.padding,"px"),this.node.style.right="",this.node.style.bottom="",this.tipNode.classList.add("mid-center")}},{key:"autoPosition",value:function t(e){var i=this.getFullPageSize(),o=this.getSize(),n=i.height,s=o.height,r=this.options.padding+10,h;e.bottom+s+r>=n?this.positionOnTop(e):this.positionOnBottom(e)}}]),i}(J);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ut(t,e,i){return e&&dt(t.prototype,e),i&&dt(t,i),t}function pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}function ft(t,e){return(ft=Object.setPrototypeOf||function t(e,i){return e.__proto__=i,e})(t,e)}function vt(t){var e=mt();return function i(){var o=bt(t),n;if(e){var s=bt(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return gt(this,n)}}function gt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?yt(t):e}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var wt=function(t){pt(i,t);var e=vt(i);function i(t,o,n){var s;return ct(this,i),(s=e.call(this)).options=t,s.window=o,s.document=n,s}return ut(i,[{key:"attachNode",value:function t(){var e=this.document.getElementById(p);e||(e=j(R),document.body.appendChild(e)),this.node=e,this.options.animate?this.node.classList.remove(m):this.node.classList.add(m)}},{key:"hide",value:function t(){this.node&&this.node.parentElement&&this.node.parentElement.removeChild(this.node)}},{key:"setInitialStyle",value:function t(){this.node.style.display="block",this.node.style.left="0",this.node.style.top="0",this.node.style.bottom="",this.node.style.right=""}},{key:"show",value:function t(e){this.attachNode(),this.setInitialStyle();var i=2*this.options.padding,o=e.right-e.left+i,n=e.bottom-e.top+i;this.node.style.display="block",this.node.style.position="absolute",this.node.style.width="".concat(o,"px"),this.node.style.height="".concat(n,"px"),this.node.style.top="".concat(e.top-i/2,"px"),this.node.style.left="".concat(e.left-i/2,"px"),this.node.style.backgroundColor=this.options.stageBackground}}]),i}(J);function kt(){return(kt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t}).apply(this,arguments)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function St(t,e,i){return e&&Nt(t.prototype,e),i&&Nt(t,i),t}var Et=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xt(this,t),this.options=kt({animate:!0,opacity:.4,padding:10,scrollIntoViewOptions:null,allowClose:!0,keyboardControl:!0,overlayClickNext:!1,stageBackground:"#ffffff",onHighlightStarted:function t(){return null},onHighlighted:function t(){return null},onDeselected:function t(){return null},onReset:function t(){return null},onNext:function t(){return null},onPrevious:function t(){return null}},e),this.document=document,this.window=window,this.isActivated=!1,this.steps=[],this.currentStep=0,this.currentMovePrevented=!1,this.overlay=new F(this.options,window,document),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onClick=this.onClick.bind(this),this.moveNext=this.moveNext.bind(this),this.movePrevious=this.movePrevious.bind(this),this.preventMove=this.preventMove.bind(this),this.bind()}return St(t,[{key:"getSteps",value:function t(){return this.steps}},{key:"setSteps",value:function t(e){this.steps=e}},{key:"bind",value:function t(){this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1),"ontouchstart"in document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1)}},{key:"onClick",value:function t(e){if(this.isActivated&&this.hasHighlightedElement()){e.stopPropagation();var i=this.overlay.getHighlightedElement(),o=this.document.getElementById(f),n=i.node.contains(e.target),s=o&&o.contains(e.target);if(n||s||!this.options.overlayClickNext)if(n||s||!this.options.allowClose){var r=e.target.classList.contains("driver-next-btn"),h=e.target.classList.contains("driver-prev-btn"),l;e.target.classList.contains(S)?this.reset():r?this.handleNext():h&&this.handlePrevious()}else this.reset();else this.handleNext()}}},{key:"onResize",value:function t(){this.isActivated&&this.refresh()}},{key:"refresh",value:function t(){this.overlay.refresh()}},{key:"onKeyUp",value:function t(e){if(this.isActivated&&this.options.keyboardControl)if(27!==e.keyCode){var i=this.getHighlightedElement();i&&i.popover&&(39===e.keyCode?this.handleNext():37===e.keyCode&&this.handlePrevious())}else this.reset()}},{key:"movePrevious",value:function t(){var e=this.steps[this.currentStep-1];e?(this.overlay.highlight(e),this.currentStep-=1):this.reset()}},{key:"preventMove",value:function t(){this.currentMovePrevented=!0}},{key:"handleNext",value:function t(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e&&e.options&&e.options.onNext&&e.options.onNext(this.overlay.highlightedElement),this.currentMovePrevented||this.moveNext()}},{key:"handlePrevious",value:function t(){this.currentMovePrevented=!1;var e=this.steps[this.currentStep];e&&e.options&&e.options.onPrevious&&e.options.onPrevious(this.overlay.highlightedElement),this.currentMovePrevented||this.movePrevious()}},{key:"moveNext",value:function t(){var e=this.steps[this.currentStep+1];e?(this.overlay.highlight(e),this.currentStep+=1):this.reset()}},{key:"hasNextStep",value:function t(){return!!this.steps[this.currentStep+1]}},{key:"hasPreviousStep",value:function t(){return!!this.steps[this.currentStep-1]}},{key:"reset",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.currentStep=0,this.isActivated=!1,this.overlay.clear(e)}},{key:"hasHighlightedElement",value:function t(){var e=this.overlay.getHighlightedElement();return e&&e.node}},{key:"getHighlightedElement",value:function t(){return this.overlay.getHighlightedElement()}},{key:"getLastHighlightedElement",value:function t(){return this.overlay.getLastHighlightedElement()}},{key:"defineSteps",value:function t(e){this.steps=[];for(var i=0;i<e.length;i++){var o=this.prepareElementFromStep(e[i],e,i);o&&this.steps.push(o)}}},{key:"prepareElementFromStep",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=kt({},this.options),s=e,r="string"!=typeof e&&!I(e);if(!e||r&&!e.element)throw new Error("Element is required in step ".concat(o));r&&(s=e.element,n=kt(kt({},this.options),e));var h=I(s)?s:this.document.querySelector(s);if(!h)return console.warn("Element to highlight ".concat(s," not found")),null;var l=null;if(n.popover&&n.popover.title){var a=[this.options.className,n.popover.className].filter((function(t){return t})).join(" "),c=kt(kt(kt({},n),n.popover),{className:a,totalCount:i.length,currentIndex:o,isFirst:0===o,isLast:0===i.length||o===i.length-1});l=new lt(c,this.window,this.document)}var d=kt({},n),u=new wt(d,this.window,this.document);return new J({node:h,options:n,popover:l,stage:u,overlay:this.overlay,window:this.window,document:this.document})}},{key:"start",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.steps||0===this.steps.length)throw new Error("There are no steps defined to iterate");this.isActivated=!0,this.currentStep=e,this.overlay.highlight(this.steps[e])}},{key:"highlight",value:function t(e){this.isActivated=!0;var i=this.prepareElementFromStep(e);i&&this.overlay.highlight(i)}}]),t}(),Ot=i(1556),Ct=e.a=Et}}]);